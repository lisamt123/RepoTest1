!function(t){function e(e){h.parent||(h.parent=t('<div id="'+e.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide(),t.fn.bgiframe&&h.parent.bgiframe(),h.title=t("h3",h.parent),h.body=t("div.body",h.parent),h.url=t("div.url",h.parent))}function i(e){return t.data(e,"tooltip")}function o(e){i(this).delay?f=setTimeout(a,i(this).delay):a(),u=!!i(this).track,t(document.body).bind("mousemove",s),s(e)}function n(){if(!t.tooltip.blocked&&this!=p&&(this.tooltipText||i(this).bodyHandler)){if(p=this,l=this.tooltipText,i(this).bodyHandler){h.title.hide();var e=i(this).bodyHandler.call(this);e.nodeType||e.jquery?h.body.empty().append(e):h.body.html(e),h.body.show()}else if(i(this).showBody){var n=l.split(i(this).showBody);h.title.html(n.shift()).show(),h.body.empty();for(var a,s=0;a=n[s];s++)s>0&&h.body.append("<br/>"),h.body.append(a);h.body.hideWhenEmpty()}else h.title.html(l).show(),h.body.hide();i(this).showURL&&t(this).url()?h.url.html(t(this).url().replace("http://","")).show():h.url.hide(),h.parent.addClass(i(this).extraClass),i(this).fixPNG&&h.parent.fixPNG(),o.apply(this,arguments)}}function a(){f=null,c&&t.fn.bgiframe||!i(p).fade?h.parent.show():h.parent.is(":animated")?h.parent.stop().show().fadeTo(i(p).fade,p.tOpacity):h.parent.is(":visible")?h.parent.fadeTo(i(p).fade,p.tOpacity):h.parent.fadeIn(i(p).fade),s()}function s(e){if(!(t.tooltip.blocked||e&&"OPTION"==e.target.tagName)){if(!u&&h.parent.is(":visible")&&t(document.body).unbind("mousemove",s),null==p)return t(document.body).unbind("mousemove",s),void 0;h.parent.removeClass("viewport-right").removeClass("viewport-bottom");var o=h.parent[0].offsetLeft,n=h.parent[0].offsetTop;if(e){o=e.pageX+i(p).left,n=e.pageY+i(p).top;var a="auto";i(p).positionLeft&&(a=t(window).width()-o,o="auto"),h.parent.css({left:o,right:a,top:n})}var d=r(),l=h.parent[0];d.x+d.cx<l.offsetLeft+l.offsetWidth&&(o-=l.offsetWidth+20+i(p).left,h.parent.css({left:o+"px"}).addClass("viewport-right")),d.y+d.cy<l.offsetTop+l.offsetHeight&&(n-=l.offsetHeight+20+i(p).top,h.parent.css({top:n+"px"}).addClass("viewport-bottom"))}}function r(){return{x:t(window).scrollLeft(),y:t(window).scrollTop(),cx:t(window).width(),cy:t(window).height()}}function d(){function e(){h.parent.removeClass(o.extraClass).hide().css("opacity","")}if(!t.tooltip.blocked){f&&clearTimeout(f),p=null;var o=i(this);c&&t.fn.bgiframe||!o.fade?e():h.parent.is(":animated")?h.parent.stop().fadeTo(o.fade,0,e):h.parent.stop().fadeOut(o.fade,e),i(this).fixPNG&&h.parent.unfixPNG()}}var p,l,f,h={},c=-1!=navigator.appVersion.indexOf("MSIE 5.5")||-1!=navigator.appVersion.indexOf("MSIE 6."),u=!1;t.tooltip={blocked:!1,defaults:{delay:200,fade:!1,showURL:!0,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){t.tooltip.blocked=!t.tooltip.blocked}},t.fn.extend({tooltip:function(i){return i=t.extend({},t.tooltip.defaults,i),e(i),this.each(function(){t.data(this,"tooltip",i),this.tOpacity=h.parent.css("opacity"),this.tooltipText=this.title,t(this).removeAttr("title"),this.alt=""}).mouseover(n).mouseout(d).click(d)},fixPNG:c?function(){return this.each(function(){var e=t(this).css("backgroundImage");e.match(/^url\(["']?(.*\.png)["']?\)$/i)&&(e=RegExp.$1,t(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+e+"')"}).each(function(){var e=t(this).css("position");"absolute"!=e&&"relative"!=e&&t(this).css("position","relative")}))})}:function(){return this},unfixPNG:c?function(){return this.each(function(){t(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){t(this)[t(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}})}(jQuery);