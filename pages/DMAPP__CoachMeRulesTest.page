<apex:page >
<apex:includeScript value="{!URLFOR($Resource.DMAPP__jQueryUI, 'js/jquery-1.7.2.min.js')}"/>
<apex:includeScript value="{!URLFOR($Resource.DMAPP__jQueryUI, 'js/jquery-ui-1.8.21.custom.min.js')}"/>
<link type="text/css" href="{!URLFOR($Resource.jQueryUI,    'css/custom-theme/jquery-ui-1.8.21.custom.css')}" rel="stylesheet" />                
        
<apex:includeScript value="{!URLFOR($Resource.DMAPP__rulesprocessorjs)}"/>
<apex:include pageName="DMAPP__RuleAdviceProcessor"/>  
<apex:includeScript value="{!URLFOR($Resource.DMAPP__ttgomjs, 'ttg/lib/ttgservice.js')}"/> 
<apex:includeScript value="{!URLFOR($Resource.DMAPP__ftk, 'forcetk.js')}"/>
<apex:include pageName="DMAPP__APIDelegate"/>

<style>
	div#TEST_RESULTS table td a {
		color: blue;
		text-decoration: none;
		cursor: pointer;
	}
	div#TEST_RESULTS table td a:HOVER {
		text-decoration: underline;
		font-weight: bold;
	}
</style>

<script>


/* 
 * Copyright Â© The TAS Group. All rights reserved.
 *  
 */    

jQuery(document).ready(function() {

var ttg_coach_rules_test = (function() {

var ttgApi = ttg.apiLayer.sfdcDelegate( { sessionid : '{!JSENCODE($Api.Session_ID)}'} );
var passedtests = [];
var failedtests = [];
var ruledata = null;
var mappedrules = {};//create map of rules, keyed by rulename so can test each rule in isolation
var coachopportunitydata = null;
var advice = null;
var shouldfire = false;
var hasadvice = false;
var logs = '';
var passed = false;

var runTests = function() {


ruledata = mappedrules['DR1'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifie517"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":45000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR01-Fail1","dmprobability":0,"keycriterion":"","amount":45000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR01 Fail1"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR1'); } 
ruledata = mappedrules['DR1'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier518"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":10000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR01-Fail2","dmprobability":0,"keycriterion":"","amount":10000,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR01 Fail2"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR1'); } 
ruledata = mappedrules['DR1'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier516"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":18500,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR01-Fire","dmprobability":0,"keycriterion":"","amount":18500,"primeactions":"","political_map_count":5,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Outside Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Multiple contacts","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Outside Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"adaptability":"Innovator","collaborationnode_keybusrequirement_count":0,"keyplayer":false,"politicalstatus":"Inner Circle","buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","id":"JUnitTasContact4","keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","name":"Oran Storm","oncollaborationmap":false,"collaborationnode_tacticalpain_count":0},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue1027"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue1021"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue1038"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue1035"},{"status":2,"name":"Compelling Event","id":"JUnitTasCriterionValue1025"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue1026"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue1031"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue1040"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue1036"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue1022"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue1032"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue1030"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue1024"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue1028"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue1023"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue1029"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue1033"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue1039"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue1037"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue1034"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR01 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR1'); } 
ruledata = mappedrules['DR2'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier525"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier526"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier527"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier528"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier529"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier530"}]},"formattedamount":16000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR02-Fail1","dmprobability":57,"keycriterion":"","amount":16000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue847"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue850"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue849"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue857"},{"status":1,"name":"Compelling Event","id":"JUnitTasCriterionValue841"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue843"},{"status":2,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue845"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue859"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue842"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue855"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue846"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue854"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue860"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue848"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue858"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue851"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue852"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue856"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue844"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue853"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR02 Fail1"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR2'); } 
ruledata = mappedrules['DR2'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier519"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier520"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier521"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier522"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier523"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier524"}]},"formattedamount":16000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR02-Fire","dmprobability":62,"keycriterion":"","amount":16000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR02 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR2'); } 
ruledata = mappedrules['DR3'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier537"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier538"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier539"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier540"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier541"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier542"}]},"formattedamount":45,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR03-Fail","dmprobability":38,"keycriterion":"","amount":45,"primeactions":"","political_map_count":5,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Brief contact","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"In-depth","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Neutral","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"adaptability":"Innovator","collaborationnode_keybusrequirement_count":0,"keyplayer":false,"politicalstatus":"Political Structure","buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","id":"JUnitTasContact4","keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","name":"Oran Storm","oncollaborationmap":false,"collaborationnode_tacticalpain_count":0},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"No Contact","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR03 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR3'); } 
ruledata = mappedrules['DR3'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier531"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier532"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier533"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier534"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier535"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier536"}]},"formattedamount":20,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR03-Fire","dmprobability":43,"keycriterion":"","amount":20,"primeactions":"","political_map_count":4,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Multiple contacts","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Approver","id":"JUnitTasContactAttribute6"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"In-depth","politicalstatus":"Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":[{"name":"Approver","id":"JUnitTasContactAttribute6"},{"name":"Evaluator","id":"JUnitTasContactAttribute8"}]},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":[{"name":"Approver","id":"JUnitTasContactAttribute6"},{"name":"Evaluator","id":"JUnitTasContactAttribute8"}]},"status":"Not Set","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"User","id":"JUnitTasContactAttribute9"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR03 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR3'); } 
ruledata = mappedrules['DR4'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier549"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier550"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier551"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier552"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier553"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier554"}]},"formattedamount":44,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR04-Fail1","dmprobability":62,"keycriterion":"","amount":44,"primeactions":"","political_map_count":1,"contacts":{"contact":{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"}},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR04 Fail1"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR4'); } 
ruledata = mappedrules['DR4'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier543"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier544"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier545"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier546"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier547"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier548"}]},"formattedamount":50,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR04-Fire","dmprobability":33,"keycriterion":"","amount":50,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR04 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR4'); } 
ruledata = mappedrules['DR5'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier561"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier562"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier563"},{"status":1,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier564"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier565"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier566"}]},"formattedamount":55,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR05-Fail1","dmprobability":33,"keycriterion":"","amount":55,"primeactions":"","political_map_count":5,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Outside Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR05 Fail1"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR5'); } 
ruledata = mappedrules['DR5'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier555"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier556"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier557"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier558"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier559"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier560"}]},"formattedamount":60,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR05-Fire","dmprobability":33,"keycriterion":"","amount":60,"primeactions":"","political_map_count":5,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Outside Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Outside Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR05 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR5'); } 
ruledata = mappedrules['DR6'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier573"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier574"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier675"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier676"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier677"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier678"}]},"formattedamount":200100,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR06-Fail1","dmprobability":62,"keycriterion":"","amount":200100,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":{"competitor":{"strategy":"","name":"KLR Software","id":"JUnitTasCompetitor11"}},"name":"DR06 Fail1"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR6'); } 
ruledata = mappedrules['DR6'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier830"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":99000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR06-Fail2","dmprobability":0,"keycriterion":"","amount":99000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":{"competitor":{"strategy":"","name":"DataTec","id":"JUnitTasCompetitor9"}},"name":"DR06 Fail2"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR6'); } 
ruledata = mappedrules['DR6'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier567"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier568"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier569"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier570"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier571"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier572"}]},"formattedamount":120000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR06-Fire","dmprobability":48,"keycriterion":"","amount":120000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR06 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR6'); } 
ruledata = mappedrules['DR7'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier776"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier777"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier778"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier779"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier780"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier781"}]},"formattedamount":31000,"dmstage":"Target Selected","strategy":"Disengage","id":"JUnitOppIdDR07-Fail","dmprobability":33,"keycriterion":"","amount":31000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR07 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR7'); } 
ruledata = mappedrules['DR7'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier770"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier771"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier772"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier773"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier774"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier775"}]},"formattedamount":31000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR07-Fire","dmprobability":62,"keycriterion":"","amount":31000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue927"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue930"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue929"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue937"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue921"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue923"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue925"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue939"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue922"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue935"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue926"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue934"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue940"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue928"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue938"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue931"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue932"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue936"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue924"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue933"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR07 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR7'); } 
ruledata = mappedrules['DR8'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier696"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier697"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier698"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier699"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier700"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier701"}]},"formattedamount":1,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR08-Fail","dmprobability":33,"keycriterion":"","amount":1,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"adaptability":"Visionary","collaborationnode_keybusrequirement_count":0,"keyplayer":false,"politicalstatus":"Not Set","buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Neutral","id":"JUnitTasContact2","keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","name":"Ian Farmer","oncollaborationmap":false,"collaborationnode_tacticalpain_count":0},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Multiple contacts","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Mentor","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"In-depth","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR08 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR8'); } 
ruledata = mappedrules['DR8'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier690"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier691"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier692"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier693"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier694"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier695"}]},"formattedamount":1,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR08-Fire","dmprobability":43,"keycriterion":"","amount":1,"primeactions":"","political_map_count":4,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Neutral","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Enemy","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Brief contact","politicalstatus":"Outside Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Supporter","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR08 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR8'); } 
ruledata = mappedrules['DR9'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier788"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier789"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier790"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier791"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier792"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier793"}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR09-Fail","dmprobability":33,"keycriterion":"","amount":1,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Supporter","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Mentor","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Supporter","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR09 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR9'); } 
ruledata = mappedrules['DR9'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier782"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier783"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier784"},{"status":1,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier785"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier786"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier787"}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR09-Fire","dmprobability":52,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Mentor","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Neutral","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR09 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR9'); } 
ruledata = mappedrules['DR10'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier769"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR10-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":1,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":true,"name":"Ian Farmer","collaborationnode_tacticalpain_count":1,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":1,"coverage":"Not Set","politicalstatus":"Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":true,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode133"},{"type":"tp","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode134"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":true,"id":"JUnitChartNode135"},{"type":"kbr","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode136"}]},"companyname":"","competitors":"","name":"DR10 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR10'); } 
ruledata = mappedrules['DR10'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier827"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":11,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR10-Fail2","dmprobability":0,"keycriterion":"","amount":11,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR10 Fail2"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR10'); } 
ruledata = mappedrules['DR10'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier768"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR10-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":1,"contacts":{"contact":{"keycriterion":"","collaborationnode_consequentialpain_count":1,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":true,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"}},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode128"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":true,"id":"JUnitChartNode129"},{"type":"solution","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode130"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode131"},{"type":"kbr","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode132"}]},"companyname":"","competitors":"","name":"DR10 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR10'); } 
ruledata = mappedrules['DR11'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier680"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR11-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":1,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":true,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":1,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":true,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode3"},{"type":"cp","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode4"},{"type":"kbr","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode5"}]},"companyname":"","competitors":"","name":"DR11 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR11'); } 
ruledata = mappedrules['DR11'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier679"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR11-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":1,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":true,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Evaluator","id":"JUnitTasContactAttribute8"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode1"},{"type":"kbr","existsonpoliticalmap":false,"status":"Assumed","hasowner":true,"id":"JUnitChartNode2"}]},"companyname":"","competitors":"","name":"DR11 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR11'); } 
ruledata = mappedrules['DR12'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier682"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":14500,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR12-Fail","dmprobability":0,"keycriterion":"","amount":14500,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode17"},{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode18"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode19"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode20"},{"type":"kbr","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode21"}]},"companyname":"","competitors":"","name":"DR12 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR12'); } 
ruledata = mappedrules['DR12'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier681"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":14000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR12-Fire","dmprobability":0,"keycriterion":"","amount":14000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode10"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode11"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode12"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode13"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode14"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode15"},{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode16"},{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode6"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode7"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode8"},{"type":"kbr","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode9"}]},"companyname":"","competitors":"","name":"DR12 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR12'); } 
ruledata = mappedrules['DR13'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier684"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR13-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":{"primeaction":{"timing":"2010-04-30","type":"Retrieve missing information","status":"In Progress","subject":"DR13 Fail A","priority":"Normal","id":"JUnitTasActivity3"}},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":false,"status":"Confirmed","hasowner":false,"id":"JUnitChartNode35"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode36"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode37"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode38"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode39"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode40"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode41"},{"type":"kbr","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode42"},{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode43"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode44"},{"type":"solution","existsonpoliticalmap":false,"status":"Confirmed","hasowner":false,"id":"JUnitChartNode45"},{"type":"solution","existsonpoliticalmap":false,"status":"Confirmed","hasowner":false,"id":"JUnitChartNode46"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode47"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode48"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode49"}]},"companyname":"","competitors":"","name":"DR13 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR13'); } 
ruledata = mappedrules['DR13'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier683"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR13-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":{"primeaction":[{"timing":"2010-04-30","type":"Retrieve missing information","status":"Not Started","subject":"DR13 A1","priority":"Normal","id":"JUnitTasActivity1"},{"timing":"2010-04-30","type":"Prove your value","status":"In Progress","subject":"DR13 A2","priority":"Normal","id":"JUnitTasActivity2"}]},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode22"},{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode23"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode24"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode25"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode26"},{"type":"solution","existsonpoliticalmap":false,"status":"Confirmed","hasowner":false,"id":"JUnitChartNode27"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode28"},{"type":"kbr","existsonpoliticalmap":false,"status":"Confirmed","hasowner":false,"id":"JUnitChartNode29"},{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode30"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode31"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode32"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode33"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode34"}]},"companyname":"","competitors":"","name":"DR13 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR13'); } 
ruledata = mappedrules['DR14'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier686"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR14-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode62"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode63"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode64"},{"type":"kbr","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode65"},{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode66"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode67"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode68"},{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode69"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode70"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":true,"id":"JUnitChartNode71"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode72"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":true,"id":"JUnitChartNode73"}]},"companyname":"","competitors":"","name":"DR14 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR14'); } 
ruledata = mappedrules['DR14'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier685"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR14-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode50"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode51"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode52"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode53"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode54"},{"type":"kbr","existsonpoliticalmap":false,"status":"Confirmed","hasowner":true,"id":"JUnitChartNode55"},{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode56"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode57"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode58"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode59"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode60"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode61"}]},"companyname":"","competitors":"","name":"DR14 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR14'); } 
ruledata = mappedrules['DR16'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier748"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR16-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode100"},{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":[{"ourposition":2,"strategy":"Fragment","id":"JUnitTasCompetitor3"},{"ourposition":1,"strategy":"Develop","id":"JUnitTasCompetitor9"}]},"status":"Assumed","hasowner":false,"id":"JUnitChartNode101"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode102"},{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":[{"ourposition":0,"strategy":"Fragment","id":"JUnitTasCompetitor3"},{"ourposition":3,"strategy":"Develop","id":"JUnitTasCompetitor9"}]},"status":"Assumed","hasowner":false,"id":"JUnitChartNode99"}]},"companyname":"","competitors":{"competitor":[{"strategy":"Fragment","name":"iTiS","id":"JUnitTasCompetitor3"},{"strategy":"Develop","name":"DataTec","id":"JUnitTasCompetitor9"}]},"name":"DR16 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR16'); } 
ruledata = mappedrules['DR16'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier688"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR16-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":false,"collaborationmapnode":[{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":{"ourposition":3,"strategy":"Fragment","id":"JUnitTasCompetitor4"}},"status":"Assumed","hasowner":false,"id":"JUnitChartNode79"},{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":{"ourposition":1,"strategy":"Fragment","id":"JUnitTasCompetitor4"}},"status":"Assumed","hasowner":false,"id":"JUnitChartNode80"}]},"companyname":"","competitors":{"competitor":{"strategy":"Fragment","name":"Competitor 4","id":"JUnitTasCompetitor4"}},"name":"DR16 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR16'); } 
ruledata = mappedrules['DR17'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier702"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"Defend","id":"JUnitOppIdDR17-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":{"primeaction":{"timing":"2010-04-30","type":"Insulate against competition","status":"Not Started","subject":"DR17 A","priority":"Normal","id":"JUnitTasActivity5"}},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR17 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR17'); } 
ruledata = mappedrules['DR17'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier831"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":32,"dmstage":"Target Selected","strategy":"Flanking","id":"JUnitOppIdDR17-Fail2","dmprobability":0,"keycriterion":"","amount":32,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR17 Fail2"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR17'); } 
ruledata = mappedrules['DR17'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier832"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":21,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR17-Fail3","dmprobability":0,"keycriterion":"","amount":21,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR17 Fail3"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR17'); } 
ruledata = mappedrules['DR17'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier833"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":12,"dmstage":"Target Selected","strategy":"","id":"JUnitOppIdDR17-Fail4","dmprobability":0,"keycriterion":"","amount":12,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR17 Fail4"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR17'); } 
ruledata = mappedrules['DR17'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier689"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"Defend","id":"JUnitOppIdDR17-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":{"primeaction":{"timing":"2010-04-30","type":"Emphasize your strengths","status":"Waiting on someone else","subject":"DR17 A","priority":"Normal","id":"JUnitTasActivity4"}},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR17 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR17'); } 
ruledata = mappedrules['DR17'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier834"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":44,"dmstage":"Target Selected","strategy":"Defend","id":"JUnitOppIdDR17-Fire2","dmprobability":0,"keycriterion":"","amount":44,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR17 Fire2"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR17'); } 
ruledata = mappedrules['DR18'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier709"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier710"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier711"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier712"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier713"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier714"}]},"formattedamount":32000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR18-Fail","dmprobability":19,"keycriterion":"","amount":32000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode84"},{"type":"kbr","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode85"}]},"companyname":"","competitors":"","name":"DR18 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR18'); } 
ruledata = mappedrules['DR18'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier703"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier704"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier705"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier706"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier707"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier708"}]},"formattedamount":31000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR18-Fire","dmprobability":62,"keycriterion":"","amount":31000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode81"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode82"},{"type":"kbr","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode83"}]},"companyname":"","competitors":"","name":"DR18 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR18'); } 
ruledata = mappedrules['DR19'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier716"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR19-Fail","dmprobability":0,"keycriterion":{"keycriteria":[{"overallranking":4,"ourposition":2,"name":"Recyclable","id":"JUnitTasDecisionCriterium10"},{"overallranking":5,"ourposition":0,"name":"Availability","id":"JUnitTasDecisionCriterium6"},{"overallranking":1,"ourposition":1,"name":"Integration","id":"JUnitTasDecisionCriterium7"},{"overallranking":2,"ourposition":2,"name":"Modular","id":"JUnitTasDecisionCriterium8"},{"overallranking":3,"ourposition":1,"name":"International","id":"JUnitTasDecisionCriterium9"}]},"amount":1,"primeactions":"","political_map_count":1,"contacts":{"contact":{"keycriterion":{"keycriteria":[{"name":"Recyclable","id":"JUnitTasDecisionCriterium10","ranking":4},{"name":"Availability","id":"JUnitTasDecisionCriterium6","ranking":5},{"name":"Integration","id":"JUnitTasDecisionCriterium7","ranking":1},{"name":"Modular","id":"JUnitTasDecisionCriterium8","ranking":2},{"name":"International","id":"JUnitTasDecisionCriterium9","ranking":3}]},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"}},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR19 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR19'); } 
ruledata = mappedrules['DR19'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier715"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR19-Fire","dmprobability":0,"keycriterion":{"keycriteria":[{"overallranking":1,"ourposition":2,"name":"Price","id":"JUnitTasDecisionCriterium1"},{"overallranking":5,"ourposition":2,"name":"Speed","id":"JUnitTasDecisionCriterium2"},{"overallranking":3,"ourposition":0,"name":"Reliability","id":"JUnitTasDecisionCriterium3"},{"overallranking":2,"ourposition":1,"name":"Proven","id":"JUnitTasDecisionCriterium4"},{"overallranking":4,"ourposition":1,"name":"Ease of use","id":"JUnitTasDecisionCriterium5"}]},"amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":{"keycriteria":[{"name":"Price","id":"JUnitTasDecisionCriterium1","ranking":1},{"name":"Speed","id":"JUnitTasDecisionCriterium2","ranking":5},{"name":"Reliability","id":"JUnitTasDecisionCriterium3","ranking":3},{"name":"Proven","id":"JUnitTasDecisionCriterium4","ranking":2},{"name":"Ease of use","id":"JUnitTasDecisionCriterium5","ranking":4}]},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR19 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR19'); } 
ruledata = mappedrules['DR20'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier718"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier719"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier720"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier721"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier722"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier723"}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR20-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":{"primeaction":{"timing":"2100-04-08","type":"Retrieve missing information","status":"Not Started","subject":"HighUnder","priority":"High","id":"JUnitTasActivity7"}},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR20 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR20'); } 
ruledata = mappedrules['DR20'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier717"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR20-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":{"primeaction":{"timing":"2010-04-16","type":"Prove your value","status":"Not Started","subject":"HighOver","priority":"High","id":"JUnitTasActivity6"}},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR20 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR20'); } 
ruledata = mappedrules['DR21'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier725"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier726"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier727"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier728"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier729"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier730"}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR21-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":{"primeaction":[{"timing":"2010-04-25","type":"Prove your value","status":"Not Started","subject":"DR21 F1","priority":"Normal","id":"JUnitTasActivity12"},{"timing":"2010-04-25","type":"Insulate against competition","status":"Not Started","subject":"DR21 F2","priority":"Normal","id":"JUnitTasActivity13"},{"timing":"2010-04-25","type":"Insulate against competition","status":"In Progress","subject":"DR21 F3","priority":"Normal","id":"JUnitTasActivity14"},{"timing":"2010-04-25","type":"Minimize your weakness","status":"Not Started","subject":"DR21 F4","priority":"Normal","id":"JUnitTasActivity15"}]},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR21 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR21'); } 
ruledata = mappedrules['DR21'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier724"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR21-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":{"primeaction":[{"timing":"2010-05-13","type":"Insulate against competition","status":"Not Started","subject":"DR21 A3","priority":"Normal","id":"JUnitTasActivity10"},{"timing":"2010-05-13","type":"Emphasize your strengths","status":"Not Started","subject":"DR21 A4","priority":"Normal","id":"JUnitTasActivity11"},{"timing":"2010-04-14","type":"Insulate against competition","status":"In Progress","subject":"DR21 InProg","priority":"Normal","id":"JUnitTasActivity20"},{"timing":"2010-04-22","type":"Insulate against competition","status":"Waiting on someone else","subject":"DR21 Wait","priority":"High","id":"JUnitTasActivity21"},{"timing":"2010-05-13","type":"Prove your value","status":"Not Started","subject":"DR21 A1","priority":"Normal","id":"JUnitTasActivity8"},{"timing":"2010-05-13","type":"Insulate against competition","status":"Not Started","subject":"DR21","priority":"Normal","id":"JUnitTasActivity9"}]},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR21 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR21'); } 
ruledata = mappedrules['DR22'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier737"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier738"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier739"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier740"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier741"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier742"}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR22-Fail","dmprobability":38,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue967"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue970"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue969"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue977"},{"status":2,"name":"Compelling Event","id":"JUnitTasCriterionValue961"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue963"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue965"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue979"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue962"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue975"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue966"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue974"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue980"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue968"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue978"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue971"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue972"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue976"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue964"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue973"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR22 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR22'); } 
ruledata = mappedrules['DR22'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier731"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier732"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier733"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier734"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier735"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier736"}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR22-Fire","dmprobability":43,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue947"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue950"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue949"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue957"},{"status":1,"name":"Compelling Event","id":"JUnitTasCriterionValue941"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue943"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue945"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue959"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue942"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue955"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue946"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue954"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue960"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue948"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue958"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue951"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue952"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue956"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue944"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue953"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR22 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR22'); } 
ruledata = mappedrules['DR23'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier744"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR23-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"No Contact","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Approver","id":"JUnitTasContactAttribute6"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Evaluator","id":"JUnitTasContactAttribute8"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR23 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR23'); } 
ruledata = mappedrules['DR23'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier743"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR23-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"In-depth","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":[{"name":"Approver","id":"JUnitTasContactAttribute6"},{"name":"Evaluator","id":"JUnitTasContactAttribute8"}]},"status":"Not Set","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR23 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR23'); } 
ruledata = mappedrules['DR24'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier752"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR24-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR24 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR24'); } 
ruledata = mappedrules['DR24'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier826"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":12,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR24-Fail2","dmprobability":0,"keycriterion":"","amount":12,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Outside Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":1,"buyerroles":{"buyerrole":{"name":"User","id":"JUnitTasContactAttribute9"}},"status":"Not Set","oncollaborationmap":true,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":1,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":true,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":true,"status":"Confirmed","hasowner":true,"id":"JUnitChartNode137"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode138"},{"type":"kbr","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode139"},{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode140"}]},"companyname":"","competitors":"","name":"DR24 Fail2"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR24'); } 
ruledata = mappedrules['DR24'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier745"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR24-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"adaptability":"Innovator","collaborationnode_keybusrequirement_count":1,"keyplayer":false,"politicalstatus":"Political Structure","buyerroles":{"buyerrole":[{"name":"Approver","id":"JUnitTasContactAttribute6"},{"name":"Evaluator","id":"JUnitTasContactAttribute8"}]},"status":"Not Set","id":"JUnitTasContact1","keycriterion":"","collaborationnode_consequentialpain_count":1,"coverage":"Not Set","name":"Ed Roe","oncollaborationmap":true,"collaborationnode_tacticalpain_count":0},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Outside Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode86"},{"type":"kbr","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode87"},{"type":"kbr","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode88"}]},"companyname":"","competitors":"","name":"DR24 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR24'); } 
ruledata = mappedrules['DR25'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier749"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"Frontal","id":"JUnitOppIdDR25-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":[{"ourposition":1,"strategy":"","id":"JUnitTasCompetitor1"},{"ourposition":0,"strategy":"","id":"JUnitTasCompetitor6"}]},"status":"Assumed","hasowner":false,"id":"JUnitChartNode103"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode104"},{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":[{"ourposition":3,"strategy":"","id":"JUnitTasCompetitor1"},{"ourposition":1,"strategy":"","id":"JUnitTasCompetitor6"}]},"status":"Assumed","hasowner":false,"id":"JUnitChartNode105"}]},"companyname":"","competitors":{"competitor":[{"strategy":"","name":"Logistics Inc","id":"JUnitTasCompetitor1"},{"strategy":"","name":"Transtech","id":"JUnitTasCompetitor6"}]},"name":"DR25 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR25'); } 
ruledata = mappedrules['DR25'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier828"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25,"dmstage":"Target Selected","strategy":"Frontal","id":"JUnitOppIdDR25-Fail2","dmprobability":0,"keycriterion":"","amount":25,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR25 Fail2"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR25'); } 
ruledata = mappedrules['DR25'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier829"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR25-Fail3","dmprobability":0,"keycriterion":"","amount":25,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR25 Fail3"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR25'); } 
ruledata = mappedrules['DR25'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier837"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":44,"dmstage":"Target Selected","strategy":"Frontal","id":"JUnitOppIdDR25-Fail4","dmprobability":0,"keycriterion":"","amount":44,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR25 Fail4"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR25'); } 
ruledata = mappedrules['DR25'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier746"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"Frontal","id":"JUnitOppIdDR25-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode89"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode90"},{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":[{"ourposition":2,"strategy":"","id":"JUnitTasCompetitor4"},{"ourposition":3,"strategy":"","id":"JUnitTasCompetitor10"}]},"status":"Assumed","hasowner":false,"id":"JUnitChartNode91"},{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":[{"ourposition":3,"strategy":"","id":"JUnitTasCompetitor4"},{"ourposition":2,"strategy":"","id":"JUnitTasCompetitor10"}]},"status":"Assumed","hasowner":false,"id":"JUnitChartNode92"},{"type":"kbr","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode93"}]},"companyname":"","competitors":{"competitor":[{"strategy":"","name":"Competitor 4","id":"JUnitTasCompetitor4"},{"strategy":"","name":"HP Solutions","id":"JUnitTasCompetitor10"}]},"name":"DR25 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR25'); } 
ruledata = mappedrules['DR26'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier794"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR26-Fail","dmprobability":0,"keycriterion":{"keycriteria":[{"overallranking":1,"ourposition":1,"name":"Price","id":"JUnitTasDecisionCriterium16"},{"overallranking":2,"ourposition":1,"name":"Size","id":"JUnitTasDecisionCriterium17"},{"overallranking":3,"ourposition":1,"name":"Shape","id":"JUnitTasDecisionCriterium18"},{"overallranking":5,"ourposition":0,"name":"Colour","id":"JUnitTasDecisionCriterium19"},{"overallranking":4,"ourposition":1,"name":"Speed","id":"JUnitTasDecisionCriterium20"},{"overallranking":6,"ourposition":1,"name":"Language","id":"JUnitTasDecisionCriterium21"}]},"amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Enemy","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":{"keycriteria":[{"name":"Price","id":"JUnitTasDecisionCriterium16","ranking":1},{"name":"Size","id":"JUnitTasDecisionCriterium17","ranking":2},{"name":"Shape","id":"JUnitTasDecisionCriterium18","ranking":3},{"name":"Colour","id":"JUnitTasDecisionCriterium19","ranking":5},{"name":"Speed","id":"JUnitTasDecisionCriterium20","ranking":4},{"name":"Language","id":"JUnitTasDecisionCriterium21","ranking":6}]},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR26 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR26'); } 
ruledata = mappedrules['DR26'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier757"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR26-Fire","dmprobability":0,"keycriterion":{"keycriteria":[{"overallranking":3,"ourposition":0,"name":"Big Issue","id":"JUnitTasDecisionCriterium11"},{"overallranking":1,"ourposition":1,"name":"Medium Issue","id":"JUnitTasDecisionCriterium12"},{"overallranking":2,"ourposition":1,"name":"Lowish Issue","id":"JUnitTasDecisionCriterium13"},{"overallranking":4,"ourposition":1,"name":"Lower Issue","id":"JUnitTasDecisionCriterium14"}]},"amount":1,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"keycriterion":{"keycriteria":[{"name":"Big Issue","id":"JUnitTasDecisionCriterium11","ranking":4},{"name":"Medium Issue","id":"JUnitTasDecisionCriterium12","ranking":1},{"name":"Lowish Issue","id":"JUnitTasDecisionCriterium13","ranking":2},{"name":"Lower Issue","id":"JUnitTasDecisionCriterium14","ranking":3}]},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":{"keycriteria":[{"name":"Big Issue","id":"JUnitTasDecisionCriterium11","ranking":1},{"name":"Medium Issue","id":"JUnitTasDecisionCriterium12","ranking":2},{"name":"Lowish Issue","id":"JUnitTasDecisionCriterium13","ranking":3},{"name":"Lower Issue","id":"JUnitTasDecisionCriterium14","ranking":4}]},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":{"keycriteria":[{"name":"Big Issue","id":"JUnitTasDecisionCriterium11","ranking":4},{"name":"Medium Issue","id":"JUnitTasDecisionCriterium12","ranking":1},{"name":"Lowish Issue","id":"JUnitTasDecisionCriterium13","ranking":2},{"name":"Lower Issue","id":"JUnitTasDecisionCriterium14","ranking":3}]},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Evaluator","id":"JUnitTasContactAttribute8"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR26 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR26'); } 
ruledata = mappedrules['DR27'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier759"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR27-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Outside Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Evaluator","id":"JUnitTasContactAttribute8"}},"status":"Enemy","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":[{"name":"Decision Maker","id":"JUnitTasContactAttribute7"},{"name":"Evaluator","id":"JUnitTasContactAttribute8"}]},"status":"Neutral","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR27 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR27'); } 
ruledata = mappedrules['DR27'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier758"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR27-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Mentor","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":[{"name":"Decision Maker","id":"JUnitTasContactAttribute7"},{"name":"User","id":"JUnitTasContactAttribute9"}]},"status":"Enemy","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Evaluator","id":"JUnitTasContactAttribute8"}},"status":"Enemy","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR27 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR27'); } 
ruledata = mappedrules['DR28'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier761"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR28-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Brief contact","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"User","id":"JUnitTasContactAttribute9"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR28 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR28'); } 
ruledata = mappedrules['DR28'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier760"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR28-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Multiple contacts","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"User","id":"JUnitTasContactAttribute9"}},"status":"Not Set","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"No Contact","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":[{"name":"Decision Maker","id":"JUnitTasContactAttribute7"},{"name":"User","id":"JUnitTasContactAttribute9"}]},"status":"Not Set","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR28 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR28'); } 
ruledata = mappedrules['DR29'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier763"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR29-Fail","dmprobability":0,"keycriterion":{"keycriteria":{"overallranking":1,"ourposition":1,"name":"Price","id":"JUnitTasDecisionCriterium15"}},"amount":1,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Evaluator","id":"JUnitTasContactAttribute8"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":{"keycriteria":{"name":"Price","id":"JUnitTasDecisionCriterium15","ranking":1}},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"},{"keycriterion":{"keycriteria":{"name":"Price","id":"JUnitTasDecisionCriterium15","ranking":1}},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Outside Political Structure","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"User","id":"JUnitTasContactAttribute9"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR29 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR29'); } 
ruledata = mappedrules['DR29'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier762"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR29-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":{"keycriteria":{"name":"","id":"","ranking":0}},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"User","id":"JUnitTasContactAttribute9"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR29 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR29'); } 
ruledata = mappedrules['DR30'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier765"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier821"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier822"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier823"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier824"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier825"}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR30-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":1,"contacts":{"contact":{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":[{"name":"Decision Maker","id":"JUnitTasContactAttribute7"},{"name":"Evaluator","id":"JUnitTasContactAttribute8"}]},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"}},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR30 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR30'); } 
ruledata = mappedrules['DR30'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier764"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR30-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"User","id":"JUnitTasContactAttribute9"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR30 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR30'); } 
ruledata = mappedrules['DR30'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR30-Fire2","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"User","id":"JUnitTasContactAttribute9"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR30 Fire 2"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR30'); } 
ruledata = mappedrules['DR31'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier751"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR31-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":false,"collaborationmapnode":[{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode110"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode111"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode112"}]},"companyname":"","competitors":"","name":"DR31 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR31'); } 
ruledata = mappedrules['DR31'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier750"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR31-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode106"},{"type":"cp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode107"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode108"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode109"}]},"companyname":"","competitors":"","name":"DR31 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR31'); } 
ruledata = mappedrules['DR32'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier754"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR32-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":2,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue867"},{"status":2,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue870"},{"status":2,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue869"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue877"},{"status":2,"name":"Compelling Event","id":"JUnitTasCriterionValue861"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue863"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue865"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue879"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue862"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue875"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue866"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue874"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue880"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue868"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue878"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue871"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue872"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue876"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue864"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue873"}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":[{"ourposition":0,"strategy":"","id":"JUnitTasCompetitor7"},{"ourposition":3,"strategy":"","id":"JUnitTasCompetitor3"}]},"status":"Assumed","hasowner":false,"id":"JUnitChartNode116"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode117"},{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":[{"ourposition":2,"strategy":"","id":"JUnitTasCompetitor7"},{"ourposition":1,"strategy":"","id":"JUnitTasCompetitor3"}]},"status":"Assumed","hasowner":false,"id":"JUnitChartNode118"}]},"companyname":"","competitors":{"competitor":[{"strategy":"","name":"iTiS","id":"JUnitTasCompetitor3"},{"strategy":"","name":"Appian Logistics Inc","id":"JUnitTasCompetitor7"}]},"name":"DR32 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR32'); } 
ruledata = mappedrules['DR32'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier753"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR32-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":{"ourposition":3,"strategy":"","id":"JUnitTasCompetitor1"}},"status":"Assumed","hasowner":false,"id":"JUnitChartNode113"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode114"},{"type":"solution","existsonpoliticalmap":false,"competitors":{"competitor":{"ourposition":2,"strategy":"","id":"JUnitTasCompetitor1"}},"status":"Assumed","hasowner":false,"id":"JUnitChartNode115"}]},"companyname":"","competitors":{"competitor":{"strategy":"","name":"Logistics Inc","id":"JUnitTasCompetitor1"}},"name":"DR32 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR32'); } 
ruledata = mappedrules['DR33'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier767"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR33-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Approver","id":"JUnitTasContactAttribute6"}},"status":"Enemy","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"adaptability":"Innovator","collaborationnode_keybusrequirement_count":0,"keyplayer":false,"politicalstatus":"Inner Circle","buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","id":"JUnitTasContact2","keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"In-depth","name":"Ian Farmer","oncollaborationmap":true,"collaborationnode_tacticalpain_count":1}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":false,"collaborationmapnode":[{"type":"solution","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode124"},{"type":"tp","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode125"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode126"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":true,"id":"JUnitChartNode127"}]},"companyname":"","competitors":"","name":"DR33 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR33'); } 
ruledata = mappedrules['DR33'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier766"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR33-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Political Structure","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":"","collaborationnode_consequentialpain_count":1,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":true,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true,"collaborationmapnode":[{"type":"cp","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode119"},{"type":"tp","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode120"},{"type":"solution","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode121"},{"type":"solution","existsonpoliticalmap":true,"status":"Assumed","hasowner":true,"id":"JUnitChartNode122"},{"type":"kbr","existsonpoliticalmap":false,"status":"Assumed","hasowner":false,"id":"JUnitChartNode123"}]},"companyname":"","competitors":"","name":"DR33 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR33'); } 
ruledata = mappedrules['DR34'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier756"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR34-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":{"primeaction":[{"timing":"2010-04-28","type":"Retrieve missing information","status":"Completed","subject":"DR34 FA1","priority":"Normal","id":"JUnitTasActivity18"},{"timing":"2010-04-21","type":"Insulate against competition","status":"In Progress","subject":"DR34 F A2","priority":"Normal","id":"JUnitTasActivity19"}]},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR34 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR34'); } 
ruledata = mappedrules['DR34'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier755"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR34-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":{"primeaction":[{"timing":"2010-04-20","type":"Insulate against competition","status":"Completed","subject":"DR34 A1","priority":"Normal","id":"JUnitTasActivity16"},{"timing":"2010-04-21","type":"Minimize your weakness","status":"Completed","subject":"DR34 A2","priority":"High","id":"JUnitTasActivity17"}]},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR34 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR34'); } 
ruledata = mappedrules['DR35'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier801"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR35-Fail","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR35 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR35'); } 
ruledata = mappedrules['DR35'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier795"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier796"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier797"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier798"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier799"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier800"}]},"formattedamount":31000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdDR35-Fire","dmprobability":24,"keycriterion":"","amount":31000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR35 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR35'); } 
ruledata = mappedrules['DR36'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier803"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier804"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier805"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier806"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier807"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier808"}]},"formattedamount":21000,"dmstage":"Target Selected","strategy":"Frontal","id":"JUnitOppIdDR36-Fail","dmprobability":0,"keycriterion":"","amount":21000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue1007"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue1010"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue1009"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue1017"},{"status":2,"name":"Compelling Event","id":"JUnitTasCriterionValue1001"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue1003"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue1005"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue1019"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue1002"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue1015"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue1006"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue1014"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue1020"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue1008"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue1018"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue1011"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue1012"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue1016"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue1004"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue1013"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR36 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR36'); } 
ruledata = mappedrules['DR36'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":21000,"dmstage":"Target Selected","strategy":"Defend","id":"JUnitOppIdDR36-Fail2","dmprobability":0,"keycriterion":"","amount":21000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue1047"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue1050"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue1049"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue1057"},{"status":1,"name":"Compelling Event","id":"JUnitTasCriterionValue1041"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue1043"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue1045"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue1059"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue1042"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue1055"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue1046"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue1054"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue1060"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue1048"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue1058"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue1051"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue1052"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue1056"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue1044"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue1053"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR36 Fail2"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR36'); } 
ruledata = mappedrules['DR36'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier802"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1,"dmstage":"Target Selected","strategy":"Fragment","id":"JUnitOppIdDR36-Fire","dmprobability":0,"keycriterion":"","amount":1,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue987"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue990"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue989"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue997"},{"status":1,"name":"Compelling Event","id":"JUnitTasCriterionValue981"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue983"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue985"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue999"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue982"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue995"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue986"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue994"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue1000"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue988"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue998"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue991"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue992"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue996"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue984"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue993"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR36 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR36'); } 
ruledata = mappedrules['DR37'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier815"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier816"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier817"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier818"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier819"},{"status":1,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier820"}]},"formattedamount":21000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR37-Fail","dmprobability":14,"keycriterion":"","amount":21000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR37 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR37'); } 
ruledata = mappedrules['DR37'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier809"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier810"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier811"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier812"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier813"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier814"}]},"formattedamount":21000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdDR37-Fire","dmprobability":0,"keycriterion":"","amount":21000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"DR37 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:DR37'); } 
ruledata = mappedrules['NKL01'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier121"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier122"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier123"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier124"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier125"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier126"}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL01-Fail","dmprobability":10,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":2,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue87"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue90"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue89"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue97"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue81"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue83"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue85"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue99"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue82"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue95"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue86"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue94"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue100"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue88"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue98"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue91"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue92"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue96"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue84"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue93"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL01 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL01'); } 
ruledata = mappedrules['NKL01'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier115"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier116"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier117"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier118"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier119"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier120"}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL01-Fire","dmprobability":10,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":1,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue67"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue70"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue69"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue77"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue61"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue63"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue65"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue79"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue62"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue75"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue66"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue74"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue80"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue68"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue78"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue71"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue72"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue76"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue64"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue73"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL01 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL01'); } 
ruledata = mappedrules['NKL02'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier133"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier134"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier135"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier136"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier137"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier138"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL02-Fail","dmprobability":48,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":2,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue127"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue130"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue129"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue137"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue121"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue123"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue125"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue139"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue122"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue135"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue126"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue134"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue140"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue128"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue138"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue131"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue132"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue136"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue124"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue133"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL02 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL02'); } 
ruledata = mappedrules['NKL02'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier127"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier128"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier129"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier130"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier131"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier132"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL02-Fire","dmprobability":48,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":1,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue107"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue110"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue109"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue117"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue101"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue103"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue105"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue119"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue102"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue115"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue106"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue114"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue120"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue108"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue118"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue111"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue112"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue116"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue104"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue113"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL02 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL02'); } 
ruledata = mappedrules['NKL03'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier211"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier212"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier213"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier214"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier215"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier216"}]},"formattedamount":1000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL03-Fail","dmprobability":29,"keycriterion":"","amount":1000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL03 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL03'); } 
ruledata = mappedrules['NKL03'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier205"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier206"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier207"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier208"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier209"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier210"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL03-Fire","dmprobability":29,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL03 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL03'); } 
ruledata = mappedrules['NKL07'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier364"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier365"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier366"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier367"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier368"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier369"}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL07-Fail","dmprobability":10,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue627"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue621"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue638"},{"status":1,"name":"Access to Funds","id":"JUnitTasCriterionValue635"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue625"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue626"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue631"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue640"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue636"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue622"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue632"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue630"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue624"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue628"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue623"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue629"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue633"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue639"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue637"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue634"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL07 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL07'); } 
ruledata = mappedrules['NKL07'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier363"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL07-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue607"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue601"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue618"},{"status":2,"name":"Access to Funds","id":"JUnitTasCriterionValue615"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue605"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue606"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue611"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue620"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue616"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue602"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue612"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue610"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue604"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue608"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue603"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue609"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue613"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue619"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue617"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue614"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL07 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL07'); } 
ruledata = mappedrules['NKL08'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier157"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL08-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue167"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue170"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue169"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue177"},{"status":2,"name":"Compelling Event","id":"JUnitTasCriterionValue161"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue163"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue165"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue179"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue162"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue175"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue166"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue174"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue180"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue168"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue178"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue171"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue172"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue176"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue164"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue173"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL08 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL08'); } 
ruledata = mappedrules['NKL08'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier151"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier152"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier153"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier154"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier155"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier156"}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL08-Fire","dmprobability":10,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL08 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL08'); } 
ruledata = mappedrules['NKL09'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier371"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL09-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL09 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL09'); } 
ruledata = mappedrules['NKL09'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier370"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL09-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue654"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue643"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue656"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue647"},{"status":2,"name":"Compelling Event","id":"JUnitTasCriterionValue650"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue652"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue641"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue660"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue651"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue646"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue642"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue658"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue649"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue655"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue648"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue657"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue644"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue659"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue653"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue645"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL09 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL09'); } 
ruledata = mappedrules['NKL23'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier163"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier164"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier165"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier166"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier167"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier168"}]},"formattedamount":21000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL23-Fail","dmprobability":48,"keycriterion":"","amount":21000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL23 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL23'); } 
ruledata = mappedrules['NKL23'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier162"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":21000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL23-Fire","dmprobability":0,"keycriterion":"","amount":21000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL23 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL23'); } 
ruledata = mappedrules['NKL25'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier261"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier262"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier263"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier264"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier265"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier266"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL25-Fail","dmprobability":29,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue434"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue423"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue436"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue427"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue430"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue432"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue421"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue440"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue431"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue426"},{"status":2,"name":"Inside Support","id":"JUnitTasCriterionValue422"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue438"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue429"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue435"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue428"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue437"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue424"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue439"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue433"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue425"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL25 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL25'); } 
ruledata = mappedrules['NKL25'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier255"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier256"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier257"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier258"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier259"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier260"}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL25-Fire","dmprobability":19,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue407"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue410"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue409"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue417"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue401"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue403"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue405"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue419"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue402"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue415"},{"status":2,"name":"Inside Support","id":"JUnitTasCriterionValue406"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue414"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue420"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue408"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue418"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue411"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue412"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue416"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue404"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue413"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL25 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL25'); } 
ruledata = mappedrules['NKL14'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier159"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL14-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue207"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue210"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue209"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue217"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue201"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue203"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue205"},{"status":2,"name":"Solution Fit","id":"JUnitTasCriterionValue219"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue202"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue215"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue206"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue214"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue220"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue208"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue218"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue211"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue212"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue216"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue204"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue213"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL14 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL14'); } 
ruledata = mappedrules['NKL14'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier158"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL14-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue187"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue190"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue189"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue197"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue181"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue183"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue185"},{"status":1,"name":"Solution Fit","id":"JUnitTasCriterionValue199"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue182"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue195"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue186"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue194"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue200"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue188"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue198"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue191"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue192"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue196"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue184"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue193"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL14 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL14'); } 
ruledata = mappedrules['NKL16'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier254"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":1000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL16-Fail","dmprobability":0,"keycriterion":"","amount":1000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue394"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue383"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue396"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue387"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue390"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue392"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue381"},{"status":2,"name":"Solution Fit","id":"JUnitTasCriterionValue400"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue391"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue386"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue382"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue398"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue389"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue395"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue388"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue397"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue384"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue399"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue393"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue385"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL16 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL16'); } 
ruledata = mappedrules['NKL16'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier253"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL16-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue367"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue370"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue369"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue377"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue361"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue363"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue365"},{"status":2,"name":"Solution Fit","id":"JUnitTasCriterionValue379"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue362"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue375"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue366"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue374"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue380"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue368"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue378"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue371"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue372"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue376"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue364"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue373"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL16 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL16'); } 
ruledata = mappedrules['NKL18'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier161"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":19000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL18-Fail","dmprobability":0,"keycriterion":"","amount":19000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL18 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL18'); } 
ruledata = mappedrules['NKL18'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier160"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL18-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL18 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL18'); } 
ruledata = mappedrules['NKL20'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier14"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL20-Fail","dmprobability":0,"keycriterion":"","amount":22000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL20 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL20'); } 
ruledata = mappedrules['NKL20'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier13"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL20-Fire","dmprobability":0,"keycriterion":"","amount":22000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue27"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue30"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue29"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue37"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue21"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue23"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue25"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue39"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue22"},{"status":2,"name":"Current Relationship","id":"JUnitTasCriterionValue35"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue26"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue34"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue40"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue28"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue38"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue31"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue32"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue36"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue24"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue33"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL20 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL20'); } 
ruledata = mappedrules['NKL30'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier277"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":20000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL30-Fail","dmprobability":0,"keycriterion":"","amount":20000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL30 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL30'); } 
ruledata = mappedrules['NKL30'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier271"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier272"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier273"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier274"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier275"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier276"}]},"formattedamount":21000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL30-Fire","dmprobability":10,"keycriterion":"","amount":21000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue487"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue490"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue489"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue497"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue481"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue483"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue485"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue499"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue482"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue495"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue486"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue494"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue500"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue488"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue498"},{"status":1,"name":"Short-term Revenue","id":"JUnitTasCriterionValue491"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue492"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue496"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue484"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue493"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL30 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL30'); } 
ruledata = mappedrules['NKL32'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier268"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL32-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL32 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL32'); } 
ruledata = mappedrules['NKL32'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier267"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL32-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue447"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue450"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue449"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue457"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue441"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue443"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue445"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue459"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue442"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue455"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue446"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue454"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue460"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue448"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue458"},{"status":2,"name":"Short-term Revenue","id":"JUnitTasCriterionValue451"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue452"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue456"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue444"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue453"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL32 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL32'); } 
ruledata = mappedrules['NKL33'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier279"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier280"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier281"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier282"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier283"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier284"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL33-Fail","dmprobability":48,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL33 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL33'); } 
ruledata = mappedrules['NKL33'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier278"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL33-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL33 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL33'); } 
ruledata = mappedrules['NKL35'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier270"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL35-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL35 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL35'); } 
ruledata = mappedrules['NKL35'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier269"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL35-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue467"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue470"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue469"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue477"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue461"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue463"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue465"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue479"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue462"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue475"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue466"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue474"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue480"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue468"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue478"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue471"},{"status":2,"name":"Future Revenue","id":"JUnitTasCriterionValue472"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue476"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue464"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue473"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL35 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL35'); } 
ruledata = mappedrules['NKL40'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier485"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL40-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":{"competitor":{"strategy":"","name":"Asgard Software","id":"JUnitTasCompetitor8"}},"name":"NKL40 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL40'); } 
ruledata = mappedrules['NKL40'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier484"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL40-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL40 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL40'); } 
ruledata = mappedrules['NKL41'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier487"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL41-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL41 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL41'); } 
ruledata = mappedrules['NKL41'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier486"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL41-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":{"competitor":[{"strategy":"","name":"Asgard Software","id":"JUnitTasCompetitor8"},{"strategy":"","name":"DataTec","id":"JUnitTasCompetitor9"}]},"name":"NKL41 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL41'); } 
ruledata = mappedrules['NKL43'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier501"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL43-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":{"keycriteria":[{"name":"Uno","id":"JUnitTasDecisionCriterium25","ranking":1},{"name":"Due","id":"JUnitTasDecisionCriterium26","ranking":2}]},"collaborationnode_consequentialpain_count":0,"coverage":"Multiple contacts","politicalstatus":"Inner Circle","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":[{"name":"Approver","id":"JUnitTasContactAttribute6"},{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}]},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL43 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL43'); } 
ruledata = mappedrules['NKL43'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier500"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL43-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL43 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL43'); } 
ruledata = mappedrules['NKL44'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier16"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL44-Fail","dmprobability":0,"keycriterion":"","amount":22000,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":{"keycriteria":{"name":"Price","id":"JUnitTasDecisionCriterium22","ranking":1}},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":[{"name":"Approver","id":"JUnitTasContactAttribute6"},{"name":"Evaluator","id":"JUnitTasContactAttribute8"}]},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL44 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL44'); } 
ruledata = mappedrules['NKL44'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier15"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL44-Fire","dmprobability":0,"keycriterion":{"keycriteria":{"overallranking":1,"ourposition":1,"name":"Price","id":"JUnitTasDecisionCriterium22"}},"amount":22000,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Evaluator","id":"JUnitTasContactAttribute8"}},"status":"Enemy","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":{"keycriteria":{"name":"Price","id":"JUnitTasDecisionCriterium22","ranking":1}},"collaborationnode_consequentialpain_count":0,"coverage":"Multiple contacts","politicalstatus":"Political Structure","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL44 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL44'); } 
ruledata = mappedrules['NKL46'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier515"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL46-Fail","dmprobability":0,"keycriterion":{"keycriteria":[{"overallranking":1,"ourposition":1,"name":"Languages","id":"JUnitTasDecisionCriterium30"},{"overallranking":2,"ourposition":1,"name":"Open","id":"JUnitTasDecisionCriterium31"}]},"amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL46 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL46'); } 
ruledata = mappedrules['NKL46'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier514"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL46-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":1,"contacts":{"contact":{"keycriterion":{"keycriteria":{"name":"Price","id":"JUnitTasDecisionCriterium28","ranking":2}},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL46 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL46'); } 
ruledata = mappedrules['NKL47'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier18"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL47-Fail","dmprobability":0,"keycriterion":"","amount":22000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL47 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL47'); } 
ruledata = mappedrules['NKL47'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier17"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL47-Fire","dmprobability":0,"keycriterion":{"keycriteria":[{"overallranking":1,"ourposition":1,"name":"Price","id":"JUnitTasDecisionCriterium23"},{"overallranking":2,"ourposition":1,"name":"Integration","id":"JUnitTasDecisionCriterium24"}]},"amount":22000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL47 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL47'); } 
ruledata = mappedrules['NKL49'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier360"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL49-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":{"primeaction":{"timing":"2010-06-29","type":"Prove your value","status":"Not Started","subject":"R49A1","priority":"Normal","id":"JUnitTasActivity33"}},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL49 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL49'); } 
ruledata = mappedrules['NKL49'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier359"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL49-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":{"primeaction":{"timing":"2010-06-30","type":"Insulate against competition","status":"Completed","subject":"Sat12","priority":"Normal","id":"JUnitTasActivity32"}},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL49 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL49'); } 
ruledata = mappedrules['NKL50'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier358"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL50-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL50 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL50'); } 
ruledata = mappedrules['NKL50'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier357"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL50-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":{"primeaction":[{"timing":"2010-06-29","type":"Insulate against competition","status":"Not Started","subject":"Sat9","priority":"Normal","id":"JUnitTasActivity30"},{"timing":"2010-06-30","type":"Emphasize your strengths","status":"Completed","subject":"Sat10","priority":"Normal","id":"JUnitTasActivity31"}]},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL50 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL50'); } 
ruledata = mappedrules['NKL05'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier175"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier176"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier177"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier178"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier179"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier180"}]},"formattedamount":24000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL05-Fail","dmprobability":76,"keycriterion":"","amount":24000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":2,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue267"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue270"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue269"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue277"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue261"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue263"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue265"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue279"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue262"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue275"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue266"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue274"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue280"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue268"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue278"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue271"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue272"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue276"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue264"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue273"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":{"competitor":{"strategy":"","name":"Asgard Software","id":"JUnitTasCompetitor8"}},"name":"NKL05 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL05'); } 
ruledata = mappedrules['NKL05'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier169"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier170"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier171"},{"status":1,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier172"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier173"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier174"}]},"formattedamount":24000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL05-Fire","dmprobability":71,"keycriterion":"","amount":24000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue227"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue230"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue229"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue237"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue221"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue223"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue225"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue239"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue222"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue235"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue226"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue234"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue240"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue228"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue238"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue231"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue232"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue236"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue224"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue233"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":{"competitor":{"strategy":"","name":"iTiS","id":"JUnitTasCompetitor3"}},"name":"NKL05 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL05'); } 
ruledata = mappedrules['NKL04'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier223"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier224"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier225"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier226"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier227"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier228"}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL04-Fail","dmprobability":10,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL04 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL04'); } 
ruledata = mappedrules['NKL04'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier217"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier218"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier219"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier220"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier221"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier222"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL04-Fire","dmprobability":29,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL04 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL04'); } 
ruledata = mappedrules['NKL06'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier362"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL06-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue587"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue581"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue598"},{"status":2,"name":"Access to Funds","id":"JUnitTasCriterionValue595"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue585"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue586"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue591"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue600"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue596"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue582"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue592"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue590"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue584"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue588"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue583"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue589"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue593"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue599"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue597"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue594"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL06 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL06'); } 
ruledata = mappedrules['NKL06'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier361"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL06-Fire","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL06 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL06'); } 
ruledata = mappedrules['NKL15'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier378"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL15-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL15 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL15'); } 
ruledata = mappedrules['NKL15'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier372"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier373"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier374"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier375"},{"status":2,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier376"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier377"}]},"formattedamount":25000,"dmstage":"Acquisition","strategy":"NotSet","id":"JUnitOppIdNKL15-Fire","dmprobability":86,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL15 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL15'); } 
ruledata = mappedrules['NKL13'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier199"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier200"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier201"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier202"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier203"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier204"}]},"formattedamount":24000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL13-Fail","dmprobability":10,"keycriterion":"","amount":24000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL13 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL13'); } 
ruledata = mappedrules['NKL13'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier193"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier194"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier195"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier196"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier197"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier198"}]},"formattedamount":21000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL13-Fire","dmprobability":48,"keycriterion":"","amount":21000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue307"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue310"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue309"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue317"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue301"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue303"},{"status":1,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue305"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue319"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue302"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue315"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue306"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue314"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue320"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue308"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue318"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue311"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue312"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue316"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue304"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue313"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL13 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL13'); } 
ruledata = mappedrules['NKL26'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier428"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL26-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL26 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL26'); } 
ruledata = mappedrules['NKL26'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier422"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier423"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier424"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier425"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier426"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier427"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL26-Fire","dmprobability":48,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL26 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL26'); } 
ruledata = mappedrules['NKL29'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier315"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier316"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier317"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier318"},{"status":2,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier319"},{"status":2,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier320"}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL29-Fail","dmprobability":38,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue507"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue501"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue518"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue515"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue505"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue506"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue511"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue520"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue516"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue502"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue512"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue510"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue504"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue508"},{"status":2,"name":"Political Alignment","id":"JUnitTasCriterionValue503"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue509"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue513"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue519"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue517"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue514"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL29 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL29'); } 
ruledata = mappedrules['NKL29'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier309"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier310"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier311"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier312"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier313"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier314"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL29-Fire","dmprobability":24,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL29 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL29'); } 
ruledata = mappedrules['NKL36'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier327"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier328"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier329"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier330"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier331"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier332"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL36-Fail","dmprobability":43,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue547"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue550"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue549"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue557"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue541"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue543"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue545"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue559"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue542"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue555"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue546"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue554"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue560"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue548"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue558"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue551"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue552"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue556"},{"status":1,"name":"Degree of Risk","id":"JUnitTasCriterionValue544"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue553"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL36 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL36'); } 
ruledata = mappedrules['NKL36'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier321"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier322"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier323"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier324"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier325"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier326"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL36-Fire","dmprobability":29,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue527"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue521"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue538"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue535"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue525"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue526"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue531"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue540"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue536"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue522"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue532"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue530"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue524"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue528"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue523"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue529"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue533"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue539"},{"status":2,"name":"Degree of Risk","id":"JUnitTasCriterionValue537"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue534"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL36 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL36'); } 
ruledata = mappedrules['NKL38'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier339"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier340"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier341"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier342"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier343"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier344"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL38-Fail","dmprobability":76,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL38 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL38'); } 
ruledata = mappedrules['NKL38'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier333"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier334"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier335"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier336"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier337"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier338"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL38-Fire","dmprobability":29,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue574"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue563"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue576"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue567"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue570"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue572"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue561"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue580"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue571"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue566"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue562"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue578"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue569"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue575"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue568"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue577"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue564"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue579"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue573"},{"status":1,"name":"Strategic Value","id":"JUnitTasCriterionValue565"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL38 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL38'); } 
ruledata = mappedrules['NKL17'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier385"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier386"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier387"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier388"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier389"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier390"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL17-Fail","dmprobability":76,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue667"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue670"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue669"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue677"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue661"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue663"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue665"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue679"},{"status":2,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue662"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue675"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue666"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue674"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue680"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue668"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue678"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue671"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue672"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue676"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue664"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue673"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL17 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL17'); } 
ruledata = mappedrules['NKL17'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier379"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier380"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier381"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier382"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier383"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier384"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL17-Fire","dmprobability":76,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL17 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL17'); } 
ruledata = mappedrules['NKL21'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier291"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier292"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier293"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier294"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier295"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier296"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL21-Fail","dmprobability":76,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL21 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL21'); } 
ruledata = mappedrules['NKL21'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier285"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier286"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier287"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier288"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier289"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier290"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL21-Fire","dmprobability":57,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL21 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL21'); } 
ruledata = mappedrules['NKL42'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier494"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier495"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier496"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier497"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier498"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier499"}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL42-Fail","dmprobability":33,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":{"competitor":{"strategy":"","name":"iTiS","id":"JUnitTasCompetitor3"}},"name":"NKL42 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL42'); } 
ruledata = mappedrules['NKL42'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier488"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier489"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier490"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier491"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier492"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier493"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL42-Fire","dmprobability":38,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL42 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL42'); } 
ruledata = mappedrules['NKL45'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier508"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier509"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier510"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier511"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier512"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier513"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL45-Fail","dmprobability":38,"keycriterion":{"keycriteria":[{"overallranking":1,"ourposition":1,"name":"Price","id":"JUnitTasDecisionCriterium28"},{"overallranking":1,"ourposition":1,"name":"Open Standard","id":"JUnitTasDecisionCriterium29"}]},"amount":25000,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"keycriterion":{"keycriteria":[{"name":"Price","id":"JUnitTasDecisionCriterium28","ranking":1},{"name":"Open Standard","id":"JUnitTasDecisionCriterium29","ranking":2}]},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ed Roe","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact1"},{"keycriterion":{"keycriteria":{"name":"","id":"","ranking":0}},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL45 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL45'); } 
ruledata = mappedrules['NKL45'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier502"},{"status":1,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier503"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier504"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier505"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier506"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier507"}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL45-Fire","dmprobability":38,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":1,"contacts":{"contact":{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"}},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL45 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL45'); } 
ruledata = mappedrules['NKL48'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier25"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier26"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier27"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier28"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier29"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier30"}]},"formattedamount":22000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL48-Fail","dmprobability":38,"keycriterion":{"keycriteria":[{"overallranking":1,"ourposition":1,"name":"Uno","id":"JUnitTasDecisionCriterium25"},{"overallranking":2,"ourposition":1,"name":"Due","id":"JUnitTasDecisionCriterium26"}]},"amount":22000,"primeactions":"","political_map_count":1,"contacts":{"contact":{"keycriterion":{"keycriteria":{"name":"","id":"","ranking":0}},"collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":true,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"}},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL48 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL48'); } 
ruledata = mappedrules['NKL48'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier19"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier20"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier21"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier22"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier23"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier24"}]},"formattedamount":22000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL48-Fire","dmprobability":24,"keycriterion":"","amount":22000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL48 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL48'); } 
ruledata = mappedrules['NKL51'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier351"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier352"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier353"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier354"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier355"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier356"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL51-Fail","dmprobability":38,"keycriterion":"","amount":25000,"primeactions":{"primeaction":[{"timing":"2010-05-31","type":"Retrieve missing information","status":"Completed","subject":"Sat6","priority":"Normal","id":"JUnitTasActivity28"},{"timing":"2010-06-30","type":"Prove your value","status":"In Progress","subject":"Sat7","priority":"Normal","id":"JUnitTasActivity29"}]},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL51 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL51'); } 
ruledata = mappedrules['NKL51'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier345"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier346"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier347"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier348"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier349"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier350"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL51-Fire","dmprobability":24,"keycriterion":"","amount":25000,"primeactions":{"primeaction":{"timing":"2010-05-31","type":"Prove your value","status":"Completed","subject":"Sat5","priority":"Normal","id":"JUnitTasActivity27"}},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL51 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL51'); } 
ruledata = mappedrules['NKL10'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier235"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier236"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier237"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier238"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier239"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier240"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL10-Fail","dmprobability":67,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL10 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL10'); } 
ruledata = mappedrules['NKL10'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier229"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier230"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier231"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier232"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier233"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier234"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL10-Fire","dmprobability":57,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL10 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL10'); } 
ruledata = mappedrules['NKL11'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier247"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier248"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier249"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier250"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier251"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier252"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL11-Fail","dmprobability":76,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue347"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue350"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue349"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue357"},{"status":2,"name":"Compelling Event","id":"JUnitTasCriterionValue341"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue343"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue345"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue359"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue342"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue355"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue346"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue354"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue360"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue348"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue358"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue351"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue352"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue356"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue344"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue353"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL11 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL11'); } 
ruledata = mappedrules['NKL11'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier241"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier242"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier243"},{"status":1,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier244"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier245"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier246"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL11-Fire","dmprobability":71,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue327"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue330"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue329"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue337"},{"status":1,"name":"Compelling Event","id":"JUnitTasCriterionValue321"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue323"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue325"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue339"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue322"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue335"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue326"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue334"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue340"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue328"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue338"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue331"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue332"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue336"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue324"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue333"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL11 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL11'); } 
ruledata = mappedrules['NKL12'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier187"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier188"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier189"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier190"},{"status":2,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier191"},{"status":2,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier192"}]},"formattedamount":1000,"dmstage":"Verbal Order","strategy":"NotSet","id":"JUnitOppIdNKL12-Fail","dmprobability":95,"keycriterion":"","amount":1000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL12 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL12'); } 
ruledata = mappedrules['NKL12'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier181"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier182"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier183"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier184"},{"status":2,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier185"},{"status":1,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier186"}]},"formattedamount":21000,"dmstage":"Verbal Order","strategy":"NotSet","id":"JUnitOppIdNKL12-Fire","dmprobability":90,"keycriterion":"","amount":21000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL12 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL12'); } 
ruledata = mappedrules['NKL19'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier397"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL19-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL19 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL19'); } 
ruledata = mappedrules['NKL19'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier391"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier392"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier393"},{"status":1,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier394"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier395"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier396"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL19-Fire","dmprobability":71,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL19 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL19'); } 
ruledata = mappedrules['NKL22'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier404"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier405"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier406"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier407"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier408"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier409"}]},"formattedamount":2000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL22-Fail","dmprobability":76,"keycriterion":"","amount":2000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL22 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL22'); } 
ruledata = mappedrules['NKL22'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier398"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier399"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier400"},{"status":1,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier401"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier402"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier403"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL22-Fire","dmprobability":71,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue687"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue681"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue698"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue695"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue685"},{"status":1,"name":"Unique Business Value","id":"JUnitTasCriterionValue686"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue691"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue700"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue696"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue682"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue692"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue690"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue684"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue688"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue683"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue689"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue693"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue699"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue697"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue694"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL22 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL22'); } 
ruledata = mappedrules['NKL24'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier416"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier417"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier418"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier419"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier420"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier421"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL24-Fail","dmprobability":48,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue714"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue703"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue716"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue707"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue710"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue712"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue701"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue720"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue711"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue706"},{"status":2,"name":"Inside Support","id":"JUnitTasCriterionValue702"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue718"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue709"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue715"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue708"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue717"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue704"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue719"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue713"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue705"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL24 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL24'); } 
ruledata = mappedrules['NKL24'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier410"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier411"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier412"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier413"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier414"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier415"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL24-Fire","dmprobability":67,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL24 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL24'); } 
ruledata = mappedrules['NKL27'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier303"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier304"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier305"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier306"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier307"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier308"}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL27-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL27 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL27'); } 
ruledata = mappedrules['NKL27'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier297"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier298"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier299"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier300"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier301"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier302"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL27-Fire","dmprobability":48,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL27 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL27'); } 
ruledata = mappedrules['NKL28'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier435"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier436"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier437"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier438"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier439"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier440"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL28-Fail","dmprobability":76,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue727"},{"status":2,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue721"},{"status":2,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue738"},{"status":1,"name":"Access to Funds","id":"JUnitTasCriterionValue735"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue725"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue726"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue731"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue740"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue736"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue722"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue732"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue730"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue724"},{"status":2,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue728"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue723"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue729"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue733"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue739"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue737"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue734"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL28 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL28'); } 
ruledata = mappedrules['NKL28'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier429"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier430"},{"status":1,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier431"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier432"},{"status":2,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier433"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier434"}]},"formattedamount":25000,"dmstage":"Requirements","strategy":"NotSet","id":"JUnitOppIdNKL28-Fire","dmprobability":62,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL28 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL28'); } 
ruledata = mappedrules['NKL31'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier447"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier448"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier449"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier450"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier451"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier452"}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL31-Fail","dmprobability":19,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL31 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL31'); } 
ruledata = mappedrules['NKL31'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier441"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier442"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier443"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier444"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier445"},{"status":1,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier446"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL31-Fire","dmprobability":81,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue754"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue743"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue756"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue747"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue750"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue752"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue741"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue760"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue751"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue746"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue742"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue758"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue749"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue755"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue748"},{"status":1,"name":"Short-term Revenue","id":"JUnitTasCriterionValue757"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue744"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue759"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue753"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue745"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL31 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL31'); } 
ruledata = mappedrules['NKL34'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier459"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier460"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier461"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier462"},{"status":2,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier463"},{"status":2,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier464"}]},"formattedamount":25000,"dmstage":"Verbal Order","strategy":"NotSet","id":"JUnitOppIdNKL34-Fail","dmprobability":95,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue767"},{"status":2,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue761"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue778"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue775"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue765"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue766"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue771"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue780"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue776"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue762"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue772"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue770"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue764"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue768"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue763"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue769"},{"status":2,"name":"Future Revenue","id":"JUnitTasCriterionValue773"},{"status":2,"name":"Profitability","id":"JUnitTasCriterionValue779"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue777"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue774"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL34 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL34'); } 
ruledata = mappedrules['NKL34'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier453"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier454"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier455"},{"status":1,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier456"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier457"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier458"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL34-Fire","dmprobability":71,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL34 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL34'); } 
ruledata = mappedrules['NKL37'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier471"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier472"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier473"},{"status":1,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier474"},{"status":1,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier475"},{"status":1,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier476"}]},"formattedamount":25000,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL37-Fail","dmprobability":81,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue814"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue803"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue816"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue807"},{"status":0,"name":"Compelling Event","id":"JUnitTasCriterionValue810"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue812"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue801"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue820"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue811"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue806"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue802"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue818"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue809"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue815"},{"status":1,"name":"Political Alignment","id":"JUnitTasCriterionValue808"},{"status":2,"name":"Short-term Revenue","id":"JUnitTasCriterionValue817"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue804"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue819"},{"status":1,"name":"Degree of Risk","id":"JUnitTasCriterionValue813"},{"status":2,"name":"Strategic Value","id":"JUnitTasCriterionValue805"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL37 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL37'); } 
ruledata = mappedrules['NKL37'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier465"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier466"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier467"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier468"},{"status":1,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier469"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier470"}]},"formattedamount":25000,"dmstage":"Acquisition","strategy":"NotSet","id":"JUnitOppIdNKL37-Fire","dmprobability":81,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":1,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue787"},{"status":1,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue781"},{"status":1,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue798"},{"status":1,"name":"Access to Funds","id":"JUnitTasCriterionValue795"},{"status":1,"name":"Compelling Event","id":"JUnitTasCriterionValue785"},{"status":1,"name":"Unique Business Value","id":"JUnitTasCriterionValue786"},{"status":1,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue791"},{"status":1,"name":"Solution Fit","id":"JUnitTasCriterionValue800"},{"status":1,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue796"},{"status":1,"name":"Current Relationship","id":"JUnitTasCriterionValue782"},{"status":1,"name":"Inside Support","id":"JUnitTasCriterionValue792"},{"status":1,"name":"Executive Credibility","id":"JUnitTasCriterionValue790"},{"status":1,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue784"},{"status":1,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue788"},{"status":1,"name":"Political Alignment","id":"JUnitTasCriterionValue783"},{"status":1,"name":"Short-term Revenue","id":"JUnitTasCriterionValue789"},{"status":1,"name":"Future Revenue","id":"JUnitTasCriterionValue793"},{"status":1,"name":"Profitability","id":"JUnitTasCriterionValue799"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue797"},{"status":1,"name":"Strategic Value","id":"JUnitTasCriterionValue794"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL37 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL37'); } 
ruledata = mappedrules['NKL39'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier483"},{"status":0,"name":"Have you assessed the competition?","id":""},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":""},{"status":0,"name":"bla bla formal and informal buying process bla.","id":""},{"status":0,"name":"Have you identified the key players?","id":""},{"status":0,"name":"Have you got 3rd party references?","id":""}]},"formattedamount":25000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL39-Fail","dmprobability":0,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL39 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL39'); } 
ruledata = mappedrules['NKL39'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier477"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier478"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier479"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier480"},{"status":1,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier481"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier482"}]},"formattedamount":25000,"dmstage":"Acquisition","strategy":"NotSet","id":"JUnitOppIdNKL39-Fire","dmprobability":81,"keycriterion":"","amount":25000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":2,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue827"},{"status":2,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue821"},{"status":2,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue838"},{"status":2,"name":"Access to Funds","id":"JUnitTasCriterionValue835"},{"status":2,"name":"Compelling Event","id":"JUnitTasCriterionValue825"},{"status":2,"name":"Unique Business Value","id":"JUnitTasCriterionValue826"},{"status":2,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue831"},{"status":2,"name":"Solution Fit","id":"JUnitTasCriterionValue840"},{"status":2,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue836"},{"status":2,"name":"Current Relationship","id":"JUnitTasCriterionValue822"},{"status":2,"name":"Inside Support","id":"JUnitTasCriterionValue832"},{"status":2,"name":"Executive Credibility","id":"JUnitTasCriterionValue830"},{"status":2,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue824"},{"status":2,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue828"},{"status":2,"name":"Political Alignment","id":"JUnitTasCriterionValue823"},{"status":2,"name":"Short-term Revenue","id":"JUnitTasCriterionValue829"},{"status":2,"name":"Future Revenue","id":"JUnitTasCriterionValue833"},{"status":2,"name":"Profitability","id":"JUnitTasCriterionValue839"},{"status":2,"name":"Degree of Risk","id":"JUnitTasCriterionValue837"},{"status":1,"name":"Strategic Value","id":"JUnitTasCriterionValue834"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL39 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL39'); } 
ruledata = mappedrules['NKL52'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier37"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier38"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier39"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier40"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier41"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier42"}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL52-Fail","dmprobability":19,"keycriterion":"","amount":22000,"primeactions":"","political_map_count":2,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"User","id":"JUnitTasContactAttribute9"}},"status":"Not Set","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL52 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL52'); } 
ruledata = mappedrules['NKL52'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier31"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier32"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier33"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier34"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier35"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier36"}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL52-Fire","dmprobability":19,"keycriterion":"","amount":22000,"primeactions":"","political_map_count":1,"contacts":{"contact":{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Inner Circle","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Not Set","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"}},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL52 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL52'); } 
ruledata = mappedrules['NKL53'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier49"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier50"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier51"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier52"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier53"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier54"}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL53-Fail","dmprobability":5,"keycriterion":"","amount":22000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":"JUnitTasCriterionValue47"},{"status":0,"name":"Customer's Business Profile","id":"JUnitTasCriterionValue50"},{"status":0,"name":"Customer's Financial Condition","id":"JUnitTasCriterionValue49"},{"status":0,"name":"Access to Funds","id":"JUnitTasCriterionValue57"},{"status":1,"name":"Compelling Event","id":"JUnitTasCriterionValue41"},{"status":0,"name":"Unique Business Value","id":"JUnitTasCriterionValue43"},{"status":0,"name":"Formal Decision Criteria","id":"JUnitTasCriterionValue45"},{"status":0,"name":"Solution Fit","id":"JUnitTasCriterionValue59"},{"status":0,"name":"Sales Resource Requirements","id":"JUnitTasCriterionValue42"},{"status":0,"name":"Current Relationship","id":"JUnitTasCriterionValue55"},{"status":0,"name":"Inside Support","id":"JUnitTasCriterionValue46"},{"status":0,"name":"Executive Credibility","id":"JUnitTasCriterionValue54"},{"status":0,"name":"Cultural Compatibility","id":"JUnitTasCriterionValue60"},{"status":0,"name":"Informal Decision Criteria","id":"JUnitTasCriterionValue48"},{"status":0,"name":"Political Alignment","id":"JUnitTasCriterionValue58"},{"status":0,"name":"Short-term Revenue","id":"JUnitTasCriterionValue51"},{"status":0,"name":"Future Revenue","id":"JUnitTasCriterionValue52"},{"status":0,"name":"Profitability","id":"JUnitTasCriterionValue56"},{"status":0,"name":"Degree of Risk","id":"JUnitTasCriterionValue44"},{"status":0,"name":"Strategic Value","id":"JUnitTasCriterionValue53"}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL53 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL53'); } 
ruledata = mappedrules['NKL53'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier43"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier44"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier45"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier46"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier47"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier48"}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL53-Fire","dmprobability":10,"keycriterion":"","amount":22000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL53 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL53'); } 
ruledata = mappedrules['NKL54'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier61"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier62"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier63"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier64"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier65"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier66"}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"Defend","id":"JUnitOppIdNKL54-Fail","dmprobability":38,"keycriterion":"","amount":22000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL54 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL54'); } 
ruledata = mappedrules['NKL54'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier55"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier56"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier57"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier58"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier59"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier60"}]},"formattedamount":22000,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL54-Fire","dmprobability":38,"keycriterion":"","amount":22000,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL54 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL54'); } 
ruledata = mappedrules['NKL55'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier73"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier74"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier75"},{"status":1,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier76"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier77"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier78"}]},"formattedamount":22,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL55-Fail","dmprobability":71,"keycriterion":"","amount":22,"primeactions":{"primeaction":{"timing":"2010-05-31","type":"Prove your value","status":"In Progress","subject":"Sat2","priority":"Normal","id":"JUnitTasActivity23"}},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL55 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL55'); } 
ruledata = mappedrules['NKL55'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":1,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier67"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier68"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier69"},{"status":1,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier70"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier71"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier72"}]},"formattedamount":22,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL55-Fire","dmprobability":67,"keycriterion":"","amount":22,"primeactions":{"primeaction":{"timing":"2010-05-31","type":"Retrieve missing information","status":"Waiting on someone else","subject":"Sat1","priority":"Normal","id":"JUnitTasActivity22"}},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL55 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL55'); } 
ruledata = mappedrules['NKL56'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier85"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier86"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier87"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier88"},{"status":2,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier89"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier90"}]},"formattedamount":22,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL56-Fail","dmprobability":10,"keycriterion":{"keycriteria":{"overallranking":1,"ourposition":1,"name":"Price","id":"JUnitTasDecisionCriterium27"}},"amount":22,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL56 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL56'); } 
ruledata = mappedrules['NKL56'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier79"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier80"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier81"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier82"},{"status":2,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier83"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier84"}]},"formattedamount":22,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL56-Fire","dmprobability":10,"keycriterion":"","amount":22,"primeactions":"","political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL56 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL56'); } 
ruledata = mappedrules['NKL57'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier97"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier100"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier101"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier98"},{"status":2,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier102"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier99"}]},"formattedamount":22,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL57-Fail","dmprobability":10,"keycriterion":"","amount":22,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Approver","id":"JUnitTasContactAttribute6"}},"status":"Mentor","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"User","id":"JUnitTasContactAttribute9"}},"status":"Not Set","oncollaborationmap":false,"name":"Elle Tornado","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact3"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Decision Maker","id":"JUnitTasContactAttribute7"}},"status":"Neutral","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL57 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL57'); } 
ruledata = mappedrules['NKL57'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":0,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier91"},{"status":0,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier94"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier95"},{"status":0,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier92"},{"status":2,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier96"},{"status":0,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier93"}]},"formattedamount":22,"dmstage":"Target Selected","strategy":"NotSet","id":"JUnitOppIdNKL57-Fire","dmprobability":10,"keycriterion":"","amount":22,"primeactions":"","political_map_count":3,"contacts":{"contact":[{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Approver","id":"JUnitTasContactAttribute6"}},"status":"Not Set","oncollaborationmap":false,"name":"Ian Farmer","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact2"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":{"name":"Not Set"}},"status":"Supporter","oncollaborationmap":false,"name":"Oran Storm","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact4"},{"keycriterion":"","collaborationnode_consequentialpain_count":0,"coverage":"Not Set","politicalstatus":"Not Set","keyplayer":false,"collaborationnode_keybusrequirement_count":0,"buyerroles":{"buyerrole":[{"name":"Decision Maker","id":"JUnitTasContactAttribute7"},{"name":"User","id":"JUnitTasContactAttribute9"}]},"status":"Non-Supporter","oncollaborationmap":false,"name":"Edith Rain","collaborationnode_tacticalpain_count":0,"id":"JUnitTasContact5"}]},"tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL57 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL57'); } 
ruledata = mappedrules['NKL58'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier109"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier112"},{"status":0,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier113"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier110"},{"status":0,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier114"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier111"}]},"formattedamount":22,"dmstage":"Evidence","strategy":"NotSet","id":"JUnitOppIdNKL58-Fail","dmprobability":76,"keycriterion":"","amount":22,"primeactions":{"primeaction":[{"timing":"2010-05-25","type":"Prove your value","status":"Completed","subject":"Sat4","priority":"Normal","id":"JUnitTasActivity25"},{"timing":"2010-06-30","type":"Prove your value","status":"In Progress","subject":"Sat4","priority":"Normal","id":"JUnitTasActivity26"}]},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL58 Fail"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = false;
passed = !hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL58'); } 
ruledata = mappedrules['NKL58'];
if(ruledata != null) {
coachopportunitydata = {"coachopportunitiesview":{"coachopportunityview":{"oppowner":"Langley, George","pipelinequalifiers":{"pipelinequalifier":[{"status":2,"name":"Have you identified a compelling event - and confirmed it.","id":"JUnitOpportunityQualifier103"},{"status":2,"name":"Have you got 3rd party references?","id":"JUnitOpportunityQualifier106"},{"status":1,"name":"bla bla formal and informal buying process bla.","id":"JUnitOpportunityQualifier107"},{"status":2,"name":"Have you identified the key players?","id":"JUnitOpportunityQualifier104"},{"status":2,"name":"Have you confirmed the unique business value of your solution to the customer?","id":"JUnitOpportunityQualifier108"},{"status":2,"name":"Have you assessed the competition?","id":"JUnitOpportunityQualifier105"}]},"formattedamount":22,"dmstage":"Acquisition","strategy":"NotSet","id":"JUnitOppIdNKL58-Fire","dmprobability":90,"keycriterion":"","amount":22,"primeactions":{"primeaction":{"timing":"2010-05-31","type":"Insulate against competition","status":"Completed","subject":"Sat3","priority":"Normal","id":"JUnitTasActivity24"}},"political_map_count":0,"contacts":"","tasassessments":{"tasassessment":[{"status":0,"name":"Customer's Application or Project","id":""},{"status":0,"name":"Customer's Business Profile","id":""},{"status":0,"name":"Customer's Financial Condition","id":""},{"status":0,"name":"Access to Funds","id":""},{"status":0,"name":"Compelling Event","id":""},{"status":0,"name":"Unique Business Value","id":""},{"status":0,"name":"Formal Decision Criteria","id":""},{"status":0,"name":"Solution Fit","id":""},{"status":0,"name":"Sales Resource Requirements","id":""},{"status":0,"name":"Current Relationship","id":""},{"status":0,"name":"Inside Support","id":""},{"status":0,"name":"Executive Credibility","id":""},{"status":0,"name":"Cultural Compatibility","id":""},{"status":0,"name":"Informal Decision Criteria","id":""},{"status":0,"name":"Political Alignment","id":""},{"status":0,"name":"Short-term Revenue","id":""},{"status":0,"name":"Future Revenue","id":""},{"status":0,"name":"Profitability","id":""},{"status":0,"name":"Degree of Risk","id":""},{"status":0,"name":"Strategic Value","id":""}]},"collaborationmapnodes":{"istree":true},"companyname":"","competitors":"","name":"NKL58 Fire"}}};
advice = _rulesProcessor.processRules(coachopportunitydata, ruledata);
hasadvice = _rulesAdviceProcessor.processAdviceRulesForUnitTest(advice);
logs = _rulesAdviceProcessor.processAdviceLogsForUnitTest(advice);
shouldfire = true;
passed = hasadvice;
if(passed) { passedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });} else { failedtests.push({ oppview:coachopportunitydata, advice:JSON.stringify(advice), shouldfire:shouldfire, logs:logs });}
} else { _rulesProcessor.logMessage('Missing rule:NKL58'); } 

//Update results table ...
updateResults();
}

var addResult = function(arr, holder) {
	for(var i = 0; i < arr.length; i++) {
		var o = arr[i];
	
		var row = jQuery('<tr/>');
		jQuery('<td/>').text(o.oppview.coachopportunitiesview.coachopportunityview.name).appendTo(row);
		createdCollapsable(JSON.stringify(o.oppview)).appendTo(row);
		createdCollapsable(JSON.stringify(o.advice)).appendTo(row);
		jQuery('<td/>').text(o.shouldfire).appendTo(row);
		createdCollapsable(o.logs).appendTo(row);
		
		jQuery(holder).append(row);
	}
}

var createdCollapsable = function(value) {
	var collapsed = true;
	var fulltext = value || '';
	var extra = {more: '[...]', less: '[ read less]'};
	
	var createLink = function() {
		return jQuery('<a/>').text(extra.more).click(function() {
			collapsed = !collapsed;
			var _l = createLink();
			if(collapsed) {
				jQuery(_l).text(extra.more);
				jQuery(td).text(fulltext.substr(0,50)).append(_l);			
			} else {
				jQuery(_l).text(extra.less);
				jQuery(td).text(fulltext).append(_l);
			}
			
			return false;
		});
	}
	
	var td = jQuery('<td class="collapsable"/>');
	if(fulltext.length > 50) {
		var link = createLink();
		
		jQuery(td).text(fulltext.substr(0,50)).append(link);
	} else {
		jQuery(td).text(fulltext);	
	}

	return td;
}


var updateResults = function() {
	
	addResult(failedtests, 'div#FAILED_TESTS table');
	addResult(passedtests, 'div#PASSED_TESTS table');
}

var maprules = function(rules) {
	jQuery.each(rules.coachrules.coachrule, function(idx, rule) {
		var rulename = rule.rulename.split(':')[0];
		var containerjson = {coachrules: { coachrule: [ rule ] }};
		mappedrules[rulename] = containerjson;
	});
};

var run = function() {
	jQuery('div#TEST_RESULTS').tabs({selected:0});
	ttgApi.getCoachMeRules(
		function(rules) {
			maprules(rules);
			ruledata = rules;
			runTests();
		}, 
		function() { alert('ERROR running tests');},
		function() {}
	);
}

var that = {};
that.run = run;
return that;

}());

ttg_coach_rules_test.run();

});

</script>
<body>
<div id="TEST_RESULTS">
    <ul>
        <li><a href="#FAILED_TESTS">Failed Tests</a></li>
        <li><a href="#PASSED_TESTS">Passed Tests</a></li>
    </ul>
    <div id="FAILED_TESTS">
        <table>
        <tr><th>Test</th><th>OppViewData</th><th>Advice</th><th>ShouldFire</th><th>Logs</th></tr>
        </table>
    </div>
    
    <div id="PASSED_TESTS">
        <table>
        <tr><th>Test</th><th>OppViewData</th><th>Advice</th><th>ShouldFire</th><th>Logs</th></tr>
        </table>
    </div>
</div>

</body>
</apex:page>